<div class="item-container">
  <button (click)="reload()">reload</button>
  <div class="item" *ngFor="let child of children">
    <button class="button-history-update" (click)="getHistory(child.previousId)">
      show history
    </button>

    <button class="item-button" (click)="showChildRecipe(child.id)">
      <p class="item-header">{{child.name}}</p>
      <p class="item-date">{{child.dateOfCreation}}</p>
      <p class="item-info">{{child.info}}</p>
    </button>

    <button class="button-history-update" (click)="setUpdateRecipe(child)">
      update
    </button>
  </div>
</div>

<div class="message">
  <p class="message-p">{{messageToUser}}</p>
</div>

<div class="menu-button">
  <button (click)="showAddNewRecipeBlock()" class="menu-button-item">
    Add New Recipe
  </button>
</div>

<form *ngIf="showAddNewRipe" (ngSubmit)="addChildToParentRecipe()" class="my-form">
  <h2>You can add a new root recipe</h2>
  <div class="form-group">
    <label for="name">Name:</label>
    <input type="text" id="name" [(ngModel)]="postRecipe.name" [ngModelOptions]="{standalone: true}">
  </div>
  <div class="form-group">
    <label for="info">Info:</label>
    <input type="text" id="info" [(ngModel)]="postRecipe.info" [ngModelOptions]="{standalone: true}">
  </div>
  <button type="submit" class="submit-button">add</button>
</form>

<form *ngIf="showUpdateNewRipe" (ngSubmit)="goUpdate()" class="my-form">
  <h2>You can update a root recipe</h2>
  <div class="form-group">
    <label for="name1">Name:</label>
    <input type="text" id="name1" [(ngModel)]="updateRecipe.name" [ngModelOptions]="{standalone: true}">
  </div>
  <div class="form-group">
    <label for="info1">Info:</label>
    <input type="text" id="info1" [(ngModel)]="updateRecipe.info" [ngModelOptions]="{standalone: true}">
  </div>
  <button type="submit" class="submit-button">update</button>
</form>

<table *ngIf="showHistory" class="recipe-table">
  <thead>
  <tr>
    <th class="name-column">Name</th>
    <th class="date-of-creation-column">Date of Creation</th>
    <th class="info-column">Info</th>
  </tr>
  </thead>
  <tbody>
  <tr *ngFor="let recipe of historyRecipes">
    <td class="name-column">{{ recipe.name }}</td>
    <td class="date-of-creation-column">{{ recipe.dateOfCreation }}</td>
    <td class="info-column">{{ recipe.info }}</td>
  </tr>
  </tbody>
</table>
